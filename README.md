# plg_intext_ads
Плагин для автоматической расстановки Яндекс-рекламы в тексте статей.

Плагин поддерживает до 5 рекламных блоков. Код каждого блока нужно получить в личном кабинете, скопировать и вставить в настройки плагина.

Логика расстановки блоков:

* если в статье меньше 5000 символов, то реклама не вставляется. Считаются все символы: и текст, и теги с их атрибутами;
* если в статье больше 5000 символов, то на каждые 5000 символов даётся один блок;
* если в статье больше 25000 символов, то в неё вставляется пять блоков;
* первый блок вставляется после пятого параграфа;
* остальные блоки равномерно распределяются так, чтобы заполнить всё пространство до десятого параграфа с конца.

Известные проблемы:

* блоки вставляются абы как (например, могут появиться сразу после подзаголовка, а это плохо);
* правило про 10-й параграф с конца работает странно: иногда блоки появляются и в самом конце статьи, то есть после «слепой 10-параграфовой зоны» в конце. Надо смотреть, почему так.

